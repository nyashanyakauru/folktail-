import{r as t}from"./react-Bg0AdYzf.js";var E=["light","dark"],k="(prefers-color-scheme: dark)",N=typeof window>"u",x=t.createContext(void 0),j={setTheme:e=>{},themes:[]},D=()=>{var e;return(e=t.useContext(x))!=null?e:j},H=e=>t.useContext(x)?e.children:t.createElement(_,{...e}),K=["light","dark"],_=({forcedTheme:e,disableTransitionOnChange:u=!1,enableSystem:r=!0,enableColorScheme:S=!0,storageKey:d="theme",themes:s=K,defaultTheme:a=r?"system":"light",attribute:y="data-theme",value:h,children:b,nonce:p})=>{let[o,i]=t.useState(()=>I(d,a)),[w,m]=t.useState(()=>I(d)),g=h?Object.values(h):s,C=t.useCallback(n=>{let l=n;if(!l)return;n==="system"&&r&&(l=M());let v=h?h[l]:l,L=u?J():null,T=document.documentElement;if(y==="class"?(T.classList.remove(...g),v&&T.classList.add(v)):v?T.setAttribute(y,v):T.removeAttribute(y),S){let O=E.includes(a)?a:null,A=E.includes(l)?l:O;T.style.colorScheme=A}L==null||L()},[]),c=t.useCallback(n=>{let l=typeof n=="function"?n(n):n;i(l);try{localStorage.setItem(d,l)}catch{}},[e]),f=t.useCallback(n=>{let l=M(n);m(l),o==="system"&&r&&!e&&C("system")},[o,e]);t.useEffect(()=>{let n=window.matchMedia(k);return n.addListener(f),f(n),()=>n.removeListener(f)},[f]),t.useEffect(()=>{let n=l=>{if(l.key!==d)return;let v=l.newValue||a;c(v)};return window.addEventListener("storage",n),()=>window.removeEventListener("storage",n)},[c]),t.useEffect(()=>{C(e??o)},[e,o]);let $=t.useMemo(()=>({theme:o,setTheme:c,forcedTheme:e,resolvedTheme:o==="system"?w:o,themes:r?[...s,"system"]:s,systemTheme:r?w:void 0}),[o,c,e,w,r,s]);return t.createElement(x.Provider,{value:$},t.createElement(z,{forcedTheme:e,disableTransitionOnChange:u,enableSystem:r,enableColorScheme:S,storageKey:d,themes:s,defaultTheme:a,attribute:y,value:h,children:b,attrs:g,nonce:p}),b)},z=t.memo(({forcedTheme:e,storageKey:u,attribute:r,enableSystem:S,enableColorScheme:d,defaultTheme:s,value:a,attrs:y,nonce:h})=>{let b=s==="system",p=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${y.map(m=>`'${m}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,o=d?E.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",i=(m,g=!1,C=!0)=>{let c=a?a[m]:m,f=g?m+"|| ''":`'${c}'`,$="";return d&&C&&!g&&E.includes(m)&&($+=`d.style.colorScheme = '${m}';`),r==="class"?g||c?$+=`c.add(${f})`:$+="null":c&&($+=`d[s](n,${f})`),$},w=e?`!function(){${p}${i(e)}}()`:S?`!function(){try{${p}var e=localStorage.getItem('${u}');if('system'===e||(!e&&${b})){var t='${k}',m=window.matchMedia(t);if(m.media!==t||m.matches){${i("dark")}}else{${i("light")}}}else if(e){${a?`var x=${JSON.stringify(a)};`:""}${i(a?"x[e]":"e",!0)}}${b?"":"else{"+i(s,!1,!1)+"}"}${o}}catch(e){}}()`:`!function(){try{${p}var e=localStorage.getItem('${u}');if(e){${a?`var x=${JSON.stringify(a)};`:""}${i(a?"x[e]":"e",!0)}}else{${i(s,!1,!1)};}${o}}catch(t){}}();`;return t.createElement("script",{nonce:h,dangerouslySetInnerHTML:{__html:w}})}),I=(e,u)=>{if(N)return;let r;try{r=localStorage.getItem(e)||void 0}catch{}return r||u},J=()=>{let e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),setTimeout(()=>{document.head.removeChild(e)},1)}},M=e=>(e||(e=window.matchMedia(k)),e.matches?"dark":"light");export{D as j,H as z};
